<div class="card list mb-0">
  <div class="card-body py-0">
    <div class="row">
      <div class="col-xl-2 col-lg-4">
        <a href="https://www.jcc.com.cy/">
          <img src="assets/img/payment_logos/jcc.png" width="100%" style="max-width: 110px">
        </a>
      </div>
      <div class="col-xl-10 col-lg-8">
        <label class="col-form-label d-block mb-0">{{'admin.store.payment.jccUserMsg' | translate}}</label>
        <button *ngIf="!showFields && !jccConnected" class="btn btn-primary px-5" (click)="onJCCClicked()">{{'admin.store.payment.jccConnect' | translate}}</button>
        <form class="formgroup" [formGroup]="jccForm" *ngIf="showFields && !jccConnected">
          <div class="row">
            <div class="col-md-2">
              {{'admin.store.payment.merchantId' | translate}}
            </div>
            <div class="col-md-5">
              <input type="text" class="form-control" maxlength="100" formControlName="JCC_MERCHANT_ID">
              <div class="invalid-feedback" *ngIf="getControl('JCC_MERCHANT_ID').errors">
                <span *ngIf="getControl('JCC_MERCHANT_ID').errors.required && getControl('JCC_MERCHANT_ID').touched">{{'admin.global.field.required'|translate}}.</span>
                <span *ngIf="getControl('JCC_MERCHANT_ID').errors.whitespace || getControl('JCC_MERCHANT_ID').errors.maxlength || getControl('JCC_MERCHANT_ID').errors.pattern">{{'admin.store.payment.valueNotValid' | translate}}</span>
              </div>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-2">
              {{'admin.store.payment.acquirerId' | translate}}
            </div>
            <div class="col-md-5">
              <input type="text" class="form-control" formControlName="JCC_ACQUIRER_ID" maxlength="100">
              <div class="invalid-feedback" *ngIf="getControl('JCC_ACQUIRER_ID').errors">
                <span *ngIf="getControl('JCC_ACQUIRER_ID').errors.required && getControl('JCC_ACQUIRER_ID').touched">{{'admin.global.field.required'|translate}}.</span>
                <span *ngIf="getControl('JCC_ACQUIRER_ID').errors.whitespace || getControl('JCC_ACQUIRER_ID').errors.maxlength || getControl('JCC_ACQUIRER_ID').errors.pattern">{{'admin.store.payment.valueNotValid' | translate}}</span>
              </div>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-2">
              {{'admin.store.payment.apiSignaturePassword' | translate}}
            </div>
            <div class="col-md-5">
              <input type="password"
                  class="form-control" formControlName="JCC_API_SIGNATURE_PASSWORD" maxlength="100">
              <div class="invalid-feedback" *ngIf="getControl('JCC_API_SIGNATURE_PASSWORD').errors?.required && getControl('JCC_API_SIGNATURE_PASSWORD').touched">
                  <span>
                      {{'admin.global.field.required'|translate}}</span>
              </div>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-2">
            </div>
            <div class="col-md-5 d-flex flex-row-reverse">
              <button class="btn btn-primary px-5" (click)="connect()">
                {{'admin.store.setting.integrations.connect'|translate}}
              </button>
            </div>
          </div>
        </form>
        <div *ngIf="jccConnected">
          <div class="row">
            <div class="col-md-2">{{'admin.store.payment.merchantId'|translate}}</div>
            <div class="col-md-4">{{this.jccMerchantId}}</div>
            <div class="col-md-2">
              <button class="btn btn-danger px-5" (click)="disconnect()">
                {{'admin.store.disconnect'|translate}}
              </button>
            </div>
          </div>
        </div>
        <div class="form-horizontal mt-3" >
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label class="form-check-label">{{'admin.store.payment.creditCard'|translate}} <img
                    class="ml-3 cc-payment-image" src="assets/img/payment-credit-card.png">
                </label>&nbsp;
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label>{{'admin.store.disabled'|translate}}</label>&nbsp;
                <label class="switch pt-1 mb-0">
                  <input type="checkbox" id="enableJCCPaymentcreditCard" [(ngModel)]="jccEnabled"  (ngModelChange)="toggleJCCPayments($event)" [disabled]="!jccConnected"/>
                  &nbsp;<span class="slider round"></span>
                </label>&nbsp;
                <label>{{'admin.store.enabled'|translate}}</label>
              </div>
            </div>
          </div>
        </div> 
      </div>
    </div>
  </div>
</div>
